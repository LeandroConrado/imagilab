<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{{ assunto }}</title>
    <style>
        body { font-family: Arial, sans-serif; color: #333; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        thead { background-color: #f2f2f2; }
        tfoot strong { color: #000; }
    </style>
</head>
<body>
    <h1>Olá, {{ pedido.cliente_nome }}!</h1>
    <p>Agradecemos pela sua compra! Segue o resumo do seu pedido <strong>#{{ pedido.codigo_pedido }}</strong>:</p>
    
    <table cellpadding="10" cellspacing="0">
        <thead>
            <tr>
                <th>Item</th>
                <th>Qtd.</th>
                <th style="text-align: right;">Preço Unit.</th>
                <th style="text-align: right;">Subtotal</th>
            </tr>
        </thead>
        <tbody>
        {% for item in pedido.itens %}
            <tr>
                <td>{{ item.produto_nome }}</td>
                <td style="text-align: center;">{{ item.quantidade }}</td>
                <td style="text-align: right;">R$ {{ item.preco_unitario|number_format(2, ',', '.') }}</td>
                <td style="text-align: right;">R$ {{ (item.quantidade * item.preco_unitario)|number_format(2, ',', '.') }}</td>
            </tr>
        {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3" style="text-align: right; border: none;">Subtotal:</td>
                <td style="text-align: right; border: none;">R$ {{ pedido.subtotal|number_format(2, ',', '.') }}</td>
            </tr>
            <tr>
                <td colspan="3" style="text-align: right; border: none;">Frete:</td>
                <td style="text-align: right; border: none;">R$ {{ pedido.valor_frete|number_format(2, ',', '.') }}</td>
            </tr>
             <tr>
                <td colspan="3" style="text-align: right; border: none;">Desconto:</td>
                <td style="text-align: right; border: none;">- R$ {{ pedido.desconto|number_format(2, ',', '.') }}</td>
            </tr>
            <tr>
                <td colspan="3" style="text-align: right; border: none;"><strong>Total:</strong></td>
                <td style="text-align: right; border: none;"><strong>R$ {{ pedido.valor_total|number_format(2, ',', '.') }}</strong></td>
            </tr>
        </tfoot>
    </table>

    <p>Status atual: <strong>{{ pedido.status_nome }}</strong></p>
    <p>Obrigado,<br>Equipe da Loja</p>
</body>
</html>